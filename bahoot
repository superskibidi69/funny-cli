#!/bin/bash
set -e

# ğŸ¨ Terminal colors
RED='\033[0;31m'
GREEN='\033[0;32m'
CYAN='\033[0;36m'
YELLOW='\033[1;33m'
NC='\033[0m' # No Color

# ğŸŒ€ Animated loader
loader() {
  echo -n "Loading"
  for i in {1..5}; do
    echo -n "."
    sleep 0.2
  done
  echo ""
}

# ğŸ”¥ ASCII rocket launch
rocket() {
  frames=(
"ğŸš€"
"ğŸš€ğŸ’¨"
"ğŸš€     ğŸ’¨"
"ğŸš€         ğŸ’¨"
"ğŸš€             ğŸ’¨"
"ğŸš€                 ğŸ’¥"
  )
  for frame in "${frames[@]}"; do
    clear
    echo -e "${YELLOW}$frame${NC}"
    sleep 0.2
  done
}

# ğŸ§  Diagnostic scanner
doctor() {
  echo -e "${GREEN}ğŸ” Running diagnostics...${NC}"
  sleep 0.5
  echo "âœ… Bash version: $(bash --version | head -n 1)"
  echo "âœ… Terminal: $TERM"
  echo "âœ… User: $USER"
  echo "âœ… Host: $(hostname)"
  echo "âœ… Uptime: $(uptime -p)"
}

# ğŸ’¥ Fake meltdown
prank() {
  loader
  echo -e "${RED}ğŸ’¥ SYSTEM FAILURE DETECTED${NC}"
  sleep 0.5
  echo "Kernel panic: unexpected token 'bahoot'"
  sleep 0.5
  echo "Dumping memory..."
  sleep 0.5
  echo "Just kidding ğŸ˜"
}

# ğŸ§¨ Chaos mode: scrolling ASCII
chaos() {
  echo -e "${CYAN}ğŸ§¨ Entering chaos mode...${NC}"
  sleep 0.5
  for i in {1..20}; do
    echo -e "${RED}ERROR $i: sanity not found${NC}"
    sleep 0.1
  done
  echo -e "${CYAN}ğŸ’« Chaos complete.${NC}"
}

# ğŸš€ Deploy animation
deploy() {
  loader
  rocket
  echo -e "${GREEN}ğŸš€ Bahoot deployed successfully!${NC}"
}

# ğŸ§¼ Help menu
help_menu() {
  echo -e "${CYAN}Bahoot CLI ğŸ¤– â€” Available commands:${NC}"
  echo "  prank     - Trigger a fake meltdown"
  echo "  deploy    - Launch ASCII rocket"
  echo "  chaos     - Enter chaos mode"
  echo "  doctor    - Run environment diagnostics"
  echo "  help      - Show this menu"
}

# ğŸ­ Subcommand handler
case "$1" in
  prank) prank ;;
  deploy) deploy ;;
  chaos) chaos ;;
  doctor) doctor ;;
  help|*) help_menu ;;
esac
